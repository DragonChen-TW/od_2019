{% extends 'base.html' %}
{% load static %}

{% block content %}
    <!-- **** Properties Hero Area Start **** -->
    <div class="properties-hero-area d-flex flex-wrap align-items-center mb-80">
        <div class="properties-slide">
            <!-- Properties Slider -->
            <div id="property-thumb-silde" class="carousel slide wow fadeInUp" data-wow-delay="200ms" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#property-thumb-silde" data-slide-to="0" class="active" style="background-image: url(img/bg-img/64.jpg);"></li>
                    <li data-target="#property-thumb-silde" data-slide-to="1" style="background-image: url(img/bg-img/65.jpg);"></li>
                </ol>

                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="{% static 'new/img/bg-img/64.jpg' %}" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="{% static 'new/img/bg-img/65.jpg' %}" class="d-block w-100" alt="...">
                    </div>
                </div>
            </div>
        </div>

        <!-- Properties Content Area -->
        <div class="properties-content-area wow fadeInUp" data-wow-delay="200ms">
            <div class="properties-content-info">
                <h2>{{ house.name }}</h2>
                <div class="properties-location">
                    <p><i class="fa fa-map-marker" aria-hidden="true"></i> {{house.address}}</p>
                    <p><i class="fa fa-map-marker" aria-hidden="true"></i> Kaohsiung</p>
                </div>
                <h4 class="properties-rate">${{house.price}} <span> 萬</span></h4>
            </div>
        </div>
    </div>
    <!-- **** Properties Hero Area End **** -->

    <!-- **** Properties-area Start **** -->
    <div class="rehomes-properties-area">
        <div class="container">
            <div class="row justify-content-between">
                <div class="col-12 col-lg-8">
                    <!-- Information Area -->
                    <div class="information-area mb-80 wow fadeInUp" data-wow-delay="200ms">
                        <h4 class="mb-30">Infomation</h4>

                        <!--Information Content -->
                        <div class="information-content">
                            <ul class="d-flex flex-wrap">
                                <li><span>價格</span> <span>$ {{house.price}}</span></li>
                                <li><span>屋齡</span> <span>{{house.age}}</span></li>
                                <li><span>房屋類型</span> <span>{{house.type}}</span></li>
                                <li><span>是否鄰近公園</span> <span>{{house.is_near_park}}</span></li>
                                <li><span>最小統計區</span> <span>{{house.stat_code}}</span></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Home Transaction History -->
                    <div class="information-area mb-80 wow fadeInUp" data-wow-delay="200ms">
                        <h4 class="mb-30">Home Transaction History</h4>

                        <!--Information Content -->
                        <div class="information-content">
                            <canvas id="canvas"></canvas>
                        </div>
                    </div>

                    <!-- Floor Thumb Content -->
                    <div class="floor-thumb-content mb-80 wow fadeInUp" data-wow-delay="200ms">
                        <h4 class="mb-30">Floor Plans</h4>

                        <!-- Floor Thumb -->
                        <div class="floor-thumb">
                            <img src="{% static 'new/img/bg-img/68.jpg' %}" alt="">
                        </div>
                    </div>

                    <!-- Search Location Area -->
                    <div class="search-location-area mb-80 wow fadeInUp" data-wow-delay="200ms">
                        <h4 class="mb-30">Near By Place</h4>

                        <!-- Location Maps -->
                        <div class="loction-map">
                            <!-- <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d19892.026971487212!2d-0.19247374135275525!3d51.4489138369289!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47d8a00baf21de75%3A0x52963a5addd52a99!2sLondon%2C+UK!5e0!3m2!1sen!2sbd!4v1551753138954" allowfullscreen></iframe> -->
                            <!-- <iframe width="600" height="450" frameborder="0" style="border:0"
src="https://www.google.com/maps/embed?center={{house.lat}}%2C{{house.lng}}&zoom=15" allowfullscreen></iframe> -->
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3682.8736223589262!2d{{house.lng}}!3d{{house.lat}}!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMjLCsDM3JzE2LjMiTiAxMjDCsDE2JzA4LjkiRQ!5e0!3m2!1szh-TW!2sbd!4v1557858365668!5m2!1szh-TW!2sbd" width="600" height="450" frameborder="0" style="border:0" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <!-- Sidebar Area -->
                <div class="col-12 col-md-6 col-lg-4 col-xl-3">
                    <div class="rehomes-property-sidebar-area">

                        <!-- Property Search Form -->
                        <div class="property-search-form-area mb-80 wow fadeInUp" data-wow-delay="200ms">
                            <h4 class="mb-30">Search Properties</h4>

                            <form action="#" method="get">
                                <div class="row">
                                    <div class="col-12">
                                        <!-- Search Btn -->
                                        <div class="search-property-btn">
                                            <fieldset class="form-group">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="rehomesbuy" id="buy" value="buy" checked>
                                                    <label class="form-check-label" for="buy">Buy</label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="rehomesbuy" id="rent" value="rent">
                                                    <label class="form-check-label" for="rent">Rent</label>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <select name="location" id="location" class="form-control">
                                            <option value="01">Location</option>
                                            <option value="02">Armenia</option>
                                            <option value="03">Argentina</option>
                                            <option value="04">Australia</option>
                                            <option value="05">Belgium</option>
                                            <option value="06">Botswana</option>
                                        </select>
                                    </div>
                                    <div class="col-12">
                                        <select name="status" id="status" class="form-control">
                                            <option value="01">Status</option>
                                            <option value="02">Commercial</option>
                                            <option value="03">Office</option>
                                            <option value="04">Villa</option>
                                            <option value="05">Apartment</option>
                                            <option value="06">Condominium</option>
                                        </select>
                                    </div>
                                    <div class="col-12">
                                        <select name="bedroom" id="bedroom" class="form-control">
                                            <option value="01">No of Bedroom</option>
                                            <option value="02">02</option>
                                            <option value="03">03</option>
                                            <option value="04">04</option>
                                            <option value="05">05</option>
                                            <option value="06">06</option>
                                        </select>
                                    </div>
                                    <div class="col-12">
                                        <select name="bathroom" id="bathroom" class="form-control">
                                            <option value="01">No of Bathroom</option>
                                            <option value="02">02</option>
                                            <option value="03">03</option>
                                            <option value="04">04</option>
                                            <option value="05">05</option>
                                            <option value="06">06</option>
                                        </select>
                                    </div>
                                    <div class="col-12">
                                        <select name="guest" id="guest" class="form-control">
                                            <option value="01">No of Guest</option>
                                            <option value="02">02</option>
                                            <option value="03">03</option>
                                            <option value="04">04</option>
                                            <option value="05">05</option>
                                            <option value="06">06</option>
                                        </select>
                                    </div>
                                    <div class="col-12">
                                        <div class="slider-range mb-15">
                                            <div class="range-price mb-2">Price [30000 - 150000]$</div>
                                            <div class="slider-range-price ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" data-min="0" data-max="200000" data-unit="$" data-value-min="30000" data-value-max="150000" data-label-result="Price">
                                                <div class="ui-slider-range ui-widget-header ui-corner-all"></div>
                                                <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0"></span>
                                                <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="slider-range mb-15">
                                            <div class="range-size mb-2">Size [9762 - 72063]sqFt</div>
                                            <div data-min="0" data-max="98623" data-unit="sqFt" class="slider-range-size ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" data-value-min="9762" data-value-max="72063" data-label-result="Size">
                                                <div class="ui-slider-range ui-widget-header ui-corner-all"></div>
                                                <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0"></span>
                                                <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <button type="submit" class="btn rehomes-btn mt-15 w-100">Search Property</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- **** Properties-area End **** -->
{% endblock %}

{% block script %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

    <script>
    	window.chartColors = {
    		red: 'rgb(255, 99, 132)',
    		orange: 'rgb(255, 159, 64)',
    		yellow: 'rgb(255, 205, 86)',
    		green: 'rgb(75, 192, 192)',
    		blue: 'rgb(54, 162, 235)',
    		purple: 'rgb(153, 102, 255)',
    		grey: 'rgb(201, 203, 207)'
    	};

    	var randomScalingFactor = function(){
    		return Math.random() * 5 + 2;
    	};

    	var config = {
    		type: 'line',
    		data: {
    			labels: ['January', 'February', 'March', 'April', 'May', 'June'],
    			datasets: [{
    				label: 'Unfilled',
    				fill: false,
    				backgroundColor: window.chartColors.blue,
    				borderColor: window.chartColors.blue,
    				data: JSON.parse('{{transaction | safe}}'),
    			}, {
    				label: 'Dashed',
    				fill: false,
    				backgroundColor: window.chartColors.green,
    				borderColor: window.chartColors.green,
    				borderDash: [5, 5],
    				data: [
    					randomScalingFactor(),
    					randomScalingFactor(),
    					randomScalingFactor(),
    					randomScalingFactor(),
    					randomScalingFactor(),
    					randomScalingFactor()
    				],
    			}]
    		},
    		options: {
    			responsive: true,
    			title: {
    				display: true,
    				text: 'Home Transaction'
    			},
    			tooltips: {
    				mode: 'index',
    				intersect: false,
    			},
    			hover: {
    				mode: 'nearest',
    				intersect: true
    			},
    			scales: {
    				xAxes: [{
    					display: true,
    					scaleLabel: {
    						display: true,
    						labelString: 'Month'
    					}
    				}],
    				yAxes: [{
    					display: true,
    					scaleLabel: {
    						display: true,
    						labelString: 'Price'
    					},
                        ticks: {
                            min: 0
                        }
    				}]
    			}
    		}
    	};

    	window.onload = function() {
    		var ctx = document.getElementById('canvas').getContext('2d');
    		window.myLine = new Chart(ctx, config);
    	};
    </script>
{% endblock %}
